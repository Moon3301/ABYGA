<ion-menu contentId="main-content">
  
  <ion-header>
    <ion-toolbar>
      <ion-title>Menu Content</ion-title>
    </ion-toolbar>
  </ion-header>
  <ion-content class="ion-padding">This is the menu content.</ion-content>
</ion-menu>
<div class="ion-page" id="main-content">
  <ion-header>
    <ion-toolbar>
      <ion-buttons slot="start">
        <ion-menu-button></ion-menu-button>
      </ion-buttons>
      <ion-title></ion-title>
    </ion-toolbar>
  </ion-header>
  <ion-content class="ion-padding">
    
    <mat-tab-group>
      <mat-tab label="PRINCIPAL">  

        <ion-card>
          <canvas baseChart style="margin: 0 auto;"
            [labels]="doughnutChartLabels"
            [datasets]="doughnutChartDatasets"
            [options]="doughnutChartOptions"
            [legend]="true"
            [type]="'doughnut'">
          </canvas>
        </ion-card>

        <ion-card>
          <canvas baseChart style="margin: 0 auto;"
            [data]="barChartData"
            [options]="barChartOptions"
            [plugins]="barChartPlugins"
            [legend]="barChartLegend"
            [type]="'bar'">
          </canvas>
        </ion-card>

      </mat-tab>

      <mat-tab label="TRANSACCIONES">  

        <div *ngFor="let fecha of crud.getFechasAgrupadas()">
          
          <ion-item style="border-radius: 15px; font-size: 10px; height: 25px; display: flex; flex-direction: column; align-items: flex-start;">
            <ion-label slot="start" style="margin-top: 4px;">{{ fecha }}</ion-label>
           <!-- <ion-label slot="end" style="margin-top: 4px;">MONTO ${{ crud.calcularMontoTotal(crud.transaccionesAgrupadas[fecha], 'Ingresos') | currency:'USD':'symbol':'1.2-2' }}
              / ${{ crud.calcularMontoTotal(crud.transaccionesAgrupadas[fecha], 'Gastos') | currency:'USD':'symbol':'1.2-2' }}</ion-label> -->
              <ion-label slot="end" style="margin-top: 4px;">MONTO: {{crud.totalNetoPorFecha[fecha] | currency:'USD':'symbol':'1.2-2'}}</ion-label>
          </ion-item>

          <div *ngFor="let transaccion of crud.transaccionesAgrupadas[fecha]">
            <div *ngFor="let categoria of transaccion.categoria">
              <div *ngFor="let subCategoria of categoria.subCategoria">
                <p></p>
                <ion-card>
                  <ion-item>
                    <fa-icon [icon]="subCategoria.icon" class="fa-xl" slot="start" ></fa-icon>
                    <ion-list>
                      <ion-label style="font-size: 12px;">{{categoria.nombre}}</ion-label>
                      <ion-label style="font-size: 10px;">{{subCategoria.nombre}}</ion-label>
                    </ion-list>
      
                    <ion-list slot="end">
                      <div *ngIf="transaccion.tipo_transaccion == 'Gastos'">
                        <ion-label style="font-size: 12px;" color="danger" >$-{{transaccion.monto}}</ion-label>
                      </div>
                      <div *ngIf="transaccion.tipo_transaccion == 'Ingresos'">
                        <ion-label style="font-size: 12px;" color="success" >${{transaccion.monto}}</ion-label>
                      </div>
                      
                      <ion-label style="font-size: 10px;">Billetera | -5666666</ion-label>
                    </ion-list>
      
                  </ion-item>
                </ion-card>

              </div>
            </div>
 
          </div>
        </div>
        
      </mat-tab>

      <mat-tab label="RECORDATORIOS">  

        




      </mat-tab>
    </mat-tab-group>
    
    <ion-fab slot="fixed" vertical="bottom" horizontal="end">
      <ion-fab-button color="danger" (click)="AgregarTransaccion()">
        <ion-icon name="add"></ion-icon>
      </ion-fab-button>
    </ion-fab>
    
  </ion-content>
</div>